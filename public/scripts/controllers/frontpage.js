// Generated by CoffeeScript 1.9.2
(function() {
  angular.module("youtubewatcher").controller("frontpageController", [
    "$scope", "$http", function($scope, $http) {
      console.log("Frontpage controller loaded");
      $scope.videos;
      $scope.outOfData = false;
      return $scope.loadMore = function() {
        if ($scope.outOfData) {
          return;
        }
        console.log("Loading More");
        $scope.outOfData = true;
        if ($scope.videos) {
          return $http.get("/data/mainstream/" + $scope.videos.length).success(function(data) {
            console.log(data);
            $scope.videos = $scope.videos.concat(data);
            $scope.outOfData = false;
            return console.log($scope.videos.length);
          }).error(function() {
            return $scope.outOfData = true;
          });
        } else {
          return $http.get("/data/mainstream/0").success(function(data) {
            console.log(data);
            $scope.videos = data;
            return $scope.outOfData = false;
          });
        }
      };
    }
  ]);

}).call(this);

//# sourceMappingURL=frontpage.js.map
